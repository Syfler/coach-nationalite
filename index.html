<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coach Nationalit√© Fran√ßaise</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        summary { list-style: none; }
        summary::-webkit-details-marker { display: none; }
        summary::after { content: '‚ñº'; float: right; transition: transform 0.2s; font-size: 0.8em; margin-top: 4px; }
        details[open] summary::after { transform: rotate(180deg); }
        .word-to-speak { cursor: pointer; display: inline-flex; align-items: center; gap: 4px; padding: 2px 6px; border-radius: 6px; transition: background-color 0.2s; }
        .word-to-speak:hover { background-color: #dbeafe; }
        .translation-text { font-style: italic; color: #1e40af; }
        /* Modal styles */
        .modal-overlay {
            transition: opacity 0.3s ease;
        }
        .modal-container {
            transition: transform 0.3s ease;
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen p-4">

    <div class="w-full max-w-4xl bg-white rounded-2xl shadow-lg p-6 md:p-8">
        
        <header class="text-center border-b pb-4 mb-6">
            <h1 class="text-3xl md:text-4xl font-bold text-blue-800">Coach Nationalit√© Fran√ßaise</h1>
            <p class="text-gray-600 mt-2">Un outil complet pour pr√©parer votre entretien</p>
        </header>

        <nav class="flex flex-wrap justify-center gap-2 md:gap-4 mb-8">
            <button id="btn-prononciation" class="main-tab-btn px-4 py-2 text-sm md:text-base font-semibold rounded-full focus:outline-none transition-all duration-300">Prononciation</button>
            <button id="btn-entretien-essentiel" class="main-tab-btn px-4 py-2 text-sm md:text-base font-semibold rounded-full focus:outline-none transition-all duration-300">Entretien Essentiel</button>
            <button id="btn-entretien-approfondi" class="main-tab-btn px-4 py-2 text-sm md:text-base font-semibold rounded-full focus:outline-none transition-all duration-300">Entretien Approfondi</button>
        </nav>

        <main>
            <!-- Sections will be populated by JS -->
            <section id="prononciation" class="main-section space-y-4"></section>
            <section id="entretien-essentiel" class="main-section hidden"></section>
            <section id="entretien-approfondi" class="main-section hidden"></section>
        </main>

        <footer class="text-center text-gray-500 text-sm mt-8 pt-4 border-t">
            <p>Con√ßu avec soin pour vous aider. Bonne pr√©paration !</p>
            <button id="open-changelog-btn" class="text-blue-600 hover:underline mt-2">Historique des versions (v7.0)</button>
        </footer>
    </div>

    <!-- Changelog Modal -->
    <div id="changelog-modal" class="modal-overlay fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 hidden z-50 opacity-0">
        <div class="modal-container bg-white w-full max-w-2xl rounded-lg shadow-xl p-6 transform scale-95">
            <div class="flex justify-between items-center border-b pb-3">
                <h3 class="text-2xl font-bold text-gray-800">Historique des versions</h3>
                <button id="close-changelog-btn" class="text-gray-500 hover:text-gray-800 text-3xl">&times;</button>
            </div>
            <div class="mt-4 space-y-4 max-h-[60vh] overflow-y-auto pr-2">
                <!-- Version history will be populated by JS -->
            </div>
        </div>
    </div>


    <script>
        document.addEventListener('DOMContentLoaded', () => {
            
            // --- DATA ---
            const questions_essentielles = [
                { q: "Quelle est la devise de la France ?", a: "Libert√©, √âgalit√©, Fraternit√©.", vn_q: "Kh·∫©u hi·ªáu c·ªßa Ph√°p l√† g√¨?", vn_a: "T·ª± do, B√¨nh ƒë·∫≥ng, B√°c √°i." },
                { q: "Quelles sont les couleurs du drapeau fran√ßais ?", a: "Bleu, Blanc, Rouge.", vn_q: "M√†u s·∫Øc c·ªßa qu·ªëc k·ª≥ Ph√°p l√† g√¨?", vn_a: "Xanh, Tr·∫Øng, ƒê·ªè." },
                { q: "Quel est l'hymne national de la France ?", a: "La Marseillaise.", vn_q: "Qu·ªëc ca c·ªßa Ph√°p l√† g√¨?", vn_a: "La Marseillaise." },
                { q: "Quand c√©l√®bre-t-on la f√™te nationale et pourquoi ?", a: "Le 14 juillet, en comm√©moration de la prise de la Bastille en 1789.", vn_q: "Qu·ªëc kh√°nh ƒë∆∞·ª£c t·ªï ch·ª©c khi n√†o v√† t·∫°i sao?", vn_a: "Ng√†y 14 th√°ng 7, ƒë·ªÉ k·ª∑ ni·ªám vi·ªác chi·∫øm ng·ª•c Bastille nƒÉm 1789." },
                { q: "Qu'est-ce que la la√Øcit√© ?", a: "La s√©paration de l'√âtat et des religions. L'√âtat est neutre et garantit la libert√© de culte.", vn_q: "Ch·ªß nghƒ©a th·∫ø t·ª•c (la√Øcit√©) l√† g√¨?", vn_a: "L√† s·ª± t√°ch bi·ªát gi·ªØa Nh√† n∆∞·ªõc v√† c√°c t√¥n gi√°o. Nh√† n∆∞·ªõc trung l·∫≠p v√† ƒë·∫£m b·∫£o t·ª± do t√≠n ng∆∞·ª°ng." },
                { q: "Qui est le chef de l'√âtat en France ?", a: "Le Pr√©sident de la R√©publique.", vn_q: "Nguy√™n th·ªß qu·ªëc gia ·ªü Ph√°p l√† ai?", vn_a: "T·ªïng th·ªëng C·ªông h√≤a." },
                { q: "Pour combien de temps le Pr√©sident est-il √©lu ?", a: "Pour un mandat de 5 ans, renouvelable une fois.", vn_q: "T·ªïng th·ªëng ƒë∆∞·ª£c b·∫ßu trong bao l√¢u?", vn_a: "Nhi·ªám k·ª≥ 5 nƒÉm, c√≥ th·ªÉ t√°i c·ª≠ m·ªôt l·∫ßn." },
                { q: "Citez trois grands fleuves fran√ßais.", a: "La Seine, la Loire, le Rh√¥ne, la Garonne.", vn_q: "K·ªÉ t√™n ba con s√¥ng l·ªõn c·ªßa Ph√°p.", vn_a: "S√¥ng Seine, s√¥ng Loire, s√¥ng Rh√¥ne, s√¥ng Garonne." },
                { q: "Citez trois pays frontaliers avec la France.", a: "Espagne, Italie, Suisse, Allemagne, Luxembourg, Belgique.", vn_q: "K·ªÉ t√™n ba qu·ªëc gia c√≥ bi√™n gi·ªõi v·ªõi Ph√°p.", vn_a: "T√¢y Ban Nha, √ù, Th·ª•y Sƒ©, ƒê·ª©c, Luxembourg, B·ªâ." },
                { q: "Qui vote les lois en France ?", a: "Le Parlement (Assembl√©e Nationale et S√©nat).", vn_q: "Ai b·ªè phi·∫øu th√¥ng qua lu·∫≠t ·ªü Ph√°p?", vn_a: "Qu·ªëc h·ªôi (H·∫° vi·ªán v√† Th∆∞·ª£ng vi·ªán)." },
                { q: "Citez un droit et un devoir d'un citoyen fran√ßais.", a: "Droit : voter. Devoir : payer ses imp√¥ts.", vn_q: "N√™u m·ªôt quy·ªÅn v√† m·ªôt nghƒ©a v·ª• c·ªßa c√¥ng d√¢n Ph√°p.", vn_a: "Quy·ªÅn: ƒëi b·∫ßu c·ª≠. Nghƒ©a v·ª•: ƒë√≥ng thu·∫ø." },
                { q: "Que symbolise Marianne ?", a: "Une all√©gorie de la R√©publique et de ses valeurs.", vn_q: "Marianne t∆∞·ª£ng tr∆∞ng cho ƒëi·ªÅu g√¨?", vn_a: "M·ªôt bi·ªÉu t∆∞·ª£ng c·ªßa n·ªÅn C·ªông h√≤a v√† c√°c gi√° tr·ªã c·ªßa n√≥." },
                { q: "Que s'est-il pass√© en 1789 ?", a: "La R√©volution fran√ßaise.", vn_q: "ƒêi·ªÅu g√¨ ƒë√£ x·∫£y ra v√†o nƒÉm 1789?", vn_a: "Cu·ªôc C√°ch m·∫°ng Ph√°p." },
                { q: "Qui √©tait Charles de Gaulle ?", a: "Chef de la France Libre et premier pr√©sident de la V√®me R√©publique.", vn_q: "Charles de Gaulle l√† ai?", vn_a: "L√£nh ƒë·∫°o c·ªßa N∆∞·ªõc Ph√°p T·ª± do v√† t·ªïng th·ªëng ƒë·∫ßu ti√™n c·ªßa n·ªÅn C·ªông h√≤a th·ª© nƒÉm." },
                { q: "Citez deux √©crivains fran√ßais c√©l√®bres.", a: "Victor Hugo, Moli√®re, Albert Camus, Voltaire.", vn_q: "K·ªÉ t√™n hai nh√† vƒÉn Ph√°p n·ªïi ti·∫øng.", vn_a: "Victor Hugo, Moli√®re, Albert Camus, Voltaire." },
                { q: "Qu'est-ce que l'Union Europ√©enne ?", a: "Une union politique et √©conomique de pays europ√©ens.", vn_q: "Li√™n minh ch√¢u √Çu l√† g√¨?", vn_a: "M·ªôt li√™n minh ch√≠nh tr·ªã v√† kinh t·∫ø c·ªßa c√°c n∆∞·ªõc ch√¢u √Çu." },
                { q: "Quels sont les trois pouvoirs de l'√âtat ?", a: "L√©gislatif, ex√©cutif, et judiciaire.", vn_q: "Ba quy·ªÅn l·ª±c c·ªßa nh√† n∆∞·ªõc l√† g√¨?", vn_a: "L·∫≠p ph√°p, h√†nh ph√°p v√† t∆∞ ph√°p." },
                { q: "Quand les femmes ont-elles obtenu le droit de vote en France ?", a: "En 1944.", vn_q: "Ph·ª• n·ªØ ·ªü Ph√°p c√≥ quy·ªÅn b·∫ßu c·ª≠ t·ª´ khi n√†o?", vn_a: "NƒÉm 1944." }
            ];
            const questions_approfondies = [
                // Organisation de la R√©publique
                { q: "Qu'est-ce que la V√®me R√©publique ?", a: "C'est le r√©gime politique actuel de la France, fond√© par Charles de Gaulle en 1958. Sa constitution donne un r√¥le important au Pr√©sident.", vn_q: "N·ªÅn C·ªông h√≤a th·ª© nƒÉm l√† g√¨?", vn_a: "L√† ch·∫ø ƒë·ªô ch√≠nh tr·ªã hi·ªán t·∫°i c·ªßa Ph√°p, do Charles de Gaulle th√†nh l·∫≠p nƒÉm 1958. Hi·∫øn ph√°p c·ªßa n√≥ trao m·ªôt vai tr√≤ quan tr·ªçng cho T·ªïng th·ªëng." },
                { q: "Qui est le Premier ministre et quel est son r√¥le ?", a: "Nomm√© par le Pr√©sident, il est le chef du gouvernement. Il dirige l'action du gouvernement et assure l'ex√©cution des lois.", vn_q: "Th·ªß t∆∞·ªõng l√† ai v√† vai tr√≤ c·ªßa √¥ng l√† g√¨?", vn_a: "Do T·ªïng th·ªëng b·ªï nhi·ªám, √¥ng l√† ng∆∞·ªùi ƒë·ª©ng ƒë·∫ßu ch√≠nh ph·ªß. √îng ch·ªâ ƒë·∫°o ho·∫°t ƒë·ªông c·ªßa ch√≠nh ph·ªß v√† ƒë·∫£m b·∫£o vi·ªác thi h√†nh lu·∫≠t ph√°p." },
                { q: "Comment une loi est-elle vot√©e ?", a: "Un projet de loi est propos√© par le gouvernement ou le Parlement. Il doit √™tre vot√© dans les m√™mes termes par l'Assembl√©e Nationale et le S√©nat.", vn_q: "M·ªôt ƒë·∫°o lu·∫≠t ƒë∆∞·ª£c bi·ªÉu quy·∫øt nh∆∞ th·∫ø n√†o?", vn_a: "M·ªôt d·ª± lu·∫≠t ƒë∆∞·ª£c ch√≠nh ph·ªß ho·∫∑c Qu·ªëc h·ªôi ƒë·ªÅ xu·∫•t. N√≥ ph·∫£i ƒë∆∞·ª£c H·∫° vi·ªán v√† Th∆∞·ª£ng vi·ªán bi·ªÉu quy·∫øt th√¥ng qua v·ªõi n·ªôi dung gi·ªëng h·ªát nhau." },
                { q: "Qu'est-ce qu'un r√©f√©rendum ?", a: "C'est un vote par lequel tous les citoyens sont appel√©s √† r√©pondre par 'oui' ou par 'non' √† une question pos√©e par le pouvoir ex√©cutif.", vn_q: "Tr∆∞ng c·∫ßu d√¢n √Ω l√† g√¨?", vn_a: "L√† m·ªôt cu·ªôc b·ªè phi·∫øu m√† t·∫•t c·∫£ c√°c c√¥ng d√¢n ƒë∆∞·ª£c k√™u g·ªçi tr·∫£ l·ªùi 'c√≥' ho·∫∑c 'kh√¥ng' cho m·ªôt c√¢u h·ªèi do c∆° quan h√†nh ph√°p ƒë·∫∑t ra." },
                { q: "Quel est le r√¥le d'un maire ?", a: "Il est le repr√©sentant de l'√âtat dans sa commune. Il est officier d'√©tat civil (mariages) et de police judiciaire, et g√®re le budget de la commune.", vn_q: "Vai tr√≤ c·ªßa m·ªôt th·ªã tr∆∞·ªüng l√† g√¨?", vn_a: "√îng l√† ƒë·∫°i di·ªán c·ªßa Nh√† n∆∞·ªõc t·∫°i x√£ c·ªßa m√¨nh. √îng l√† vi√™n ch·ª©c h·ªô t·ªãch (h√¥n nh√¢n) v√† c·∫£nh s√°t t∆∞ ph√°p, v√† qu·∫£n l√Ω ng√¢n s√°ch c·ªßa x√£." },
                
                // Histoire
                { q: "Qui √©tait Louis XIV ?", a: "Un roi de France tr√®s important, surnomm√© le 'Roi-Soleil'. Il a fait construire le ch√¢teau de Versailles et a symbolis√© la monarchie absolue.", vn_q: "Louis XIV l√† ai?", vn_a: "M·ªôt v·ªã vua r·∫•t quan tr·ªçng c·ªßa Ph√°p, c√≥ bi·ªát danh l√† 'Vua M·∫∑t tr·ªùi'. √îng ƒë√£ cho x√¢y d·ª±ng cung ƒëi·ªán Versailles v√† t∆∞·ª£ng tr∆∞ng cho ch·∫ø ƒë·ªô qu√¢n ch·ªß chuy√™n ch·∫ø." },
                { q: "Qui √©tait Napol√©on Bonaparte ?", a: "Un g√©n√©ral devenu Empereur. Il a profond√©ment r√©form√© la France en cr√©ant le Code Civil, les lyc√©es et la Banque de France.", vn_q: "Napol√©on Bonaparte l√† ai?", vn_a: "M·ªôt v·ªã t∆∞·ªõng tr·ªü th√†nh Ho√†ng ƒë·∫ø. √îng ƒë√£ c·∫£i c√°ch s√¢u s·∫Øc n∆∞·ªõc Ph√°p b·∫±ng c√°ch t·∫°o ra B·ªô lu·∫≠t D√¢n s·ª±, c√°c tr∆∞·ªùng trung h·ªçc v√† Ng√¢n h√†ng Ph√°p." },
                { q: "Qui √©tait Jeanne d'Arc ?", a: "Une h√©ro√Øne de l'histoire de France qui a men√© les troupes fran√ßaises contre les Anglais pendant la Guerre de Cent Ans au 15√®me si√®cle.", vn_q: "Jeanne d'Arc l√† ai?", vn_a: "M·ªôt n·ªØ anh h√πng trong l·ªãch s·ª≠ Ph√°p, ng∆∞·ªùi ƒë√£ l√£nh ƒë·∫°o qu√¢n ƒë·ªôi Ph√°p ch·ªëng l·∫°i ng∆∞·ªùi Anh trong Chi·∫øn tranh TrƒÉm nƒÉm v√†o th·∫ø k·ª∑ 15." },
                { q: "Citez deux dates importantes des Guerres Mondiales.", a: "11 novembre 1918 (Armistice de la Premi√®re Guerre mondiale) et 8 mai 1945 (Victoire des Alli√©s en Europe pour la Seconde Guerre mondiale).", vn_q: "N√™u hai ng√†y quan tr·ªçng c·ªßa c√°c cu·ªôc Th·∫ø chi·∫øn.", vn_a: "Ng√†y 11 th√°ng 11 nƒÉm 1918 (Hi·ªáp ƒë·ªãnh ƒë√¨nh chi·∫øn Th·∫ø chi·∫øn th·ª© nh·∫•t) v√† ng√†y 8 th√°ng 5 nƒÉm 1945 (Ng√†y Chi·∫øn th·∫Øng ·ªü ch√¢u √Çu trong Th·∫ø chi·∫øn th·ª© hai)." },
                { q: "Qui √©tait Jean Moulin ?", a: "Un h√©ros qui a unifi√© la R√©sistance fran√ßaise pendant la Seconde Guerre mondiale sous l'autorit√© du g√©n√©ral de Gaulle.", vn_q: "Jean Moulin l√† ai?", vn_a: "M·ªôt anh h√πng ƒë√£ th·ªëng nh·∫•t phong tr√†o Kh√°ng chi·∫øn Ph√°p trong Th·∫ø chi·∫øn th·ª© hai d∆∞·ªõi quy·ªÅn c·ªßa t∆∞·ªõng de Gaulle." },

                // G√©ographie et Culture
                { q: "Citez deux massifs montagneux en France.", a: "Les Alpes (o√π se trouve le Mont Blanc) et les Pyr√©n√©es (√† la fronti√®re avec l'Espagne).", vn_q: "K·ªÉ t√™n hai d√£y n√∫i ·ªü Ph√°p.", vn_a: "D√£y Alps (n∆°i c√≥ ƒë·ªânh Mont Blanc) v√† d√£y Pyrenees (·ªü bi√™n gi·ªõi v·ªõi T√¢y Ban Nha)." },
                { q: "Citez deux d√©partements ou r√©gions d'outre-mer (DROM).", a: "La Guadeloupe, la Martinique, la Guyane, La R√©union, Mayotte.", vn_q: "K·ªÉ t√™n hai t·ªânh ho·∫∑c v√πng h·∫£i ngo·∫°i (DROM).", vn_a: "Guadeloupe, Martinique, Guyane, La R√©union, Mayotte." },
                { q: "Citez un peintre et un musicien fran√ßais c√©l√®bres.", a: "Peintre : Claude Monet (impressionnisme). Musicien : Claude Debussy (compositeur), √âdith Piaf (chanteuse).", vn_q: "K·ªÉ t√™n m·ªôt h·ªça sƒ© v√† m·ªôt nh·∫°c sƒ© Ph√°p n·ªïi ti·∫øng.", vn_a: "H·ªça sƒ©: Claude Monet (tr∆∞·ªùng ph√°i ·∫§n t∆∞·ª£ng). Nh·∫°c sƒ©: Claude Debussy (nh√† so·∫°n nh·∫°c), √âdith Piaf (ca sƒ©)." },
                { q: "Citez deux plats typiques de la gastronomie fran√ßaise.", a: "Le b≈ìuf bourguignon, la blanquette de veau, le coq au vin, la ratatouille, les cr√™pes.", vn_q: "K·ªÉ t√™n hai m√≥n ƒÉn ƒë·∫∑c tr∆∞ng c·ªßa ·∫©m th·ª±c Ph√°p.", vn_a: "B√≤ bourguignon, b√™ h·∫ßm blanquette, g√† s·ªët vang, ratatouille, b√°nh cr√™pe." },
                { q: "Citez un monument c√©l√®bre en France en dehors de Paris.", a: "Le Mont-Saint-Michel en Normandie, le Pont du Gard pr√®s de N√Æmes, les ch√¢teaux de la Loire (comme Chambord).", vn_q: "K·ªÉ t√™n m·ªôt di t√≠ch n·ªïi ti·∫øng ·ªü Ph√°p ngo√†i Paris.", vn_a: "Tu vi·ªán Mont-Saint-Michel ·ªü Normandy, c·∫ßu Pont du Gard g·∫ßn N√Æmes, c√°c l√¢u ƒë√†i ·ªü thung l≈©ng Loire (nh∆∞ Chambord)." },
                { q: "Quel animal est un des symboles de la France ?", a: "Le coq gaulois.", vn_q: "Con v·∫≠t n√†o l√† m·ªôt trong nh·ªØng bi·ªÉu t∆∞·ª£ng c·ªßa Ph√°p?", vn_a: "G√† tr·ªëng Gaulois." },

                // Valeurs, Droits et Devoirs
                { q: "Qu'est-ce que la fraternit√©, dans la devise fran√ßaise ?", a: "C'est un lien de solidarit√© qui doit unir tous les citoyens. Cela se traduit par des actions comme l'aide aux plus d√©munis ou le b√©n√©volat.", vn_q: "B√°c √°i, trong kh·∫©u hi·ªáu c·ªßa Ph√°p, l√† g√¨?", vn_a: "ƒê√≥ l√† m·ªôt m·ªëi li√™n k·∫øt ƒëo√†n k·∫øt ph·∫£i h·ª£p nh·∫•t t·∫•t c·∫£ c√°c c√¥ng d√¢n. ƒêi·ªÅu n√†y ƒë∆∞·ª£c th·ªÉ hi·ªán qua c√°c h√†nh ƒë·ªông nh∆∞ gi√∫p ƒë·ª° ng∆∞·ªùi ngh√®o kh√≥ ho·∫∑c ho·∫°t ƒë·ªông t√¨nh nguy·ªán." },
                { q: "L'√©cole est-elle obligatoire en France ?", a: "Oui, l'instruction est obligatoire pour tous les enfants de 3 √† 16 ans. L'√©cole publique est gratuite et la√Øque.", vn_q: "Vi·ªác h·ªçc ·ªü Ph√°p c√≥ b·∫Øt bu·ªôc kh√¥ng?", vn_a: "C√≥, gi√°o d·ª•c l√† b·∫Øt bu·ªôc ƒë·ªëi v·ªõi t·∫•t c·∫£ tr·∫ª em t·ª´ 3 ƒë·∫øn 16 tu·ªïi. Tr∆∞·ªùng c√¥ng l·∫≠p mi·ªÖn ph√≠ v√† th·∫ø t·ª•c." },
                { q: "Qu'est-ce que la s√©curit√© sociale ?", a: "Un syst√®me de protection sociale qui vise √† prot√©ger les individus contre les risques sociaux (maladie, maternit√©, vieillesse, ch√¥mage).", vn_q: "B·∫£o hi·ªÉm x√£ h·ªôi (s√©curit√© sociale) l√† g√¨?", vn_a: "M·ªôt h·ªá th·ªëng b·∫£o tr·ª£ x√£ h·ªôi nh·∫±m b·∫£o v·ªá c√° nh√¢n kh·ªèi c√°c r·ªßi ro x√£ h·ªôi (b·ªánh t·∫≠t, thai s·∫£n, tu·ªïi gi√†, th·∫•t nghi·ªáp)." },
                { q: "Qu'est-ce que la libert√© d'expression ?", a: "C'est le droit d'exprimer ses opinions, dans les limites fix√©es par la loi (ne pas inciter √† la haine, √† la violence, ou diffamer).", vn_q: "T·ª± do ng√¥n lu·∫≠n l√† g√¨?", vn_a: "L√† quy·ªÅn b√†y t·ªè √Ω ki·∫øn c·ªßa m√¨nh, trong gi·ªõi h·∫°n do ph√°p lu·∫≠t quy ƒë·ªãnh (kh√¥ng k√≠ch ƒë·ªông h·∫≠n th√π, b·∫°o l·ª±c, ho·∫∑c ph·ªâ b√°ng)." },
                { q: "Pourquoi voulez-vous devenir fran√ßais(e) ?", a: "Question personnelle. Il faut montrer son attachement √† la France, √† ses valeurs, √† sa culture et sa volont√© de participer √† la vie de la nation.", vn_q: "T·∫°i sao b·∫°n mu·ªën tr·ªü th√†nh ng∆∞·ªùi Ph√°p?", vn_a: "C√¢u h·ªèi c√° nh√¢n. C·∫ßn th·ªÉ hi·ªán s·ª± g·∫Øn b√≥ c·ªßa b·∫°n v·ªõi n∆∞·ªõc Ph√°p, v·ªõi c√°c gi√° tr·ªã, vƒÉn h√≥a c·ªßa n√≥ v√† mong mu·ªën tham gia v√†o ƒë·ªùi s·ªëng qu·ªëc gia." }
            ];

            // --- ICONS ---
            const speakerIconSVG = `<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-blue-600" viewBox="0 0 20 20" fill="currentColor"><path d="M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.383-.217zM14.5 8.5a.5.5 0 01.5.5v2a.5.5 0 01-1 0v-2a.5.5 0 01.5-.5zM16.5 7a.5.5 0 01.5.5v4a.5.5 0 01-1 0v-4a.5.5 0 01.5-.5z"/></svg>`;
            const translateIconSVG = `<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-500 hover:text-blue-700" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M7 2a1 1 0 011 1v1h3a1 1 0 110 2H9.578a18.87 18.87 0 01-1.152 2.443C8.794 8.861 9.223 9.54 9.5 10a1 1 0 11-2 0c-.277-.46-.706-1.139-1.057-1.557A18.87 18.87 0 015.422 6H3a1 1 0 110-2h3V3a1 1 0 011-1zm6 6a1 1 0 01.894.553l2.992 5.984a1 1 0 11-1.788.894L13.5 13.236H10.5l-1.6 3.202a1 1 0 11-1.788-.894l2.992-5.984A1 1 0 0111 8h2zm-1.5 3.236a.5.5 0 00-.447-.236h-1.106a.5.5 0 00-.447.236L11.5 12.472l1.5 3.004 1.5-3.004-1-2z" clip-rule="evenodd" /></svg>`;

            // --- UTILITY FUNCTIONS ---
            function speak(text) { if ('speechSynthesis' in window) { window.speechSynthesis.cancel(); const u = new SpeechSynthesisUtterance(text); u.lang = 'fr-FR'; u.rate = 0.9; window.speechSynthesis.speak(u); } }
            function createTranslationButton(translation) {
                const btn = document.createElement('button');
                btn.className = "ml-2 shrink-0";
                btn.innerHTML = translateIconSVG;
                const translationSpan = document.createElement('span');
                translationSpan.className = "translation-text hidden ml-2";
                translationSpan.textContent = `(${translation})`;
                btn.addEventListener('click', (e) => { e.stopPropagation(); translationSpan.classList.toggle('hidden'); });
                return [btn, translationSpan];
            }

            // --- UI SETUP FUNCTIONS ---
            function setupPronunciation() {
                const container = document.getElementById('prononciation');
                container.innerHTML = `<h2 class="text-2xl font-bold text-gray-800 text-center mb-4">Les sons difficiles du fran√ßais</h2>`;
                const pronunciationData = [
                    { title: 'Le son "u" [y]', examples: ['Rue', 'Tu', 'Une', 'Jus'], instructions: 'Dites "iiii". Sans bouger la langue, arrondissez les l√®vres.' },
                    { title: 'Le "r" guttural [ Å]', examples: ['Bonjour', 'Merci', 'Tr√®s', 'France'], instructions: 'Imaginez que vous vous gargarisez doucement.' },
                    { title: 'Les voyelles nasales', examples: ['Maman', 'Bonbon', 'Pain'], instructions: 'Prononcez la voyelle en laissant l\'air passer par le nez.' },
                    { title: 'Les sons "eu" / "≈ìu"', examples: ['Deux', 'Heure', 'C≈ìur'], instructions: '"eu" ferm√© (Deux): Dites "√©" et arrondissez les l√®vres. "eu" ouvert (Heure): Dites "√®" et arrondissez les l√®vres.' }
                ];
                pronunciationData.forEach(item => {
                    const details = document.createElement('details');
                    details.className = 'bg-blue-50 border border-blue-200 rounded-lg';
                    const summary = document.createElement('summary');
                    summary.className = 'p-4 font-semibold cursor-pointer text-blue-900';
                    summary.textContent = item.title;
                    const contentDiv = document.createElement('div');
                    contentDiv.className = 'p-4 border-t border-blue-200 bg-white rounded-b-lg';
                    const examplesP = document.createElement('p');
                    examplesP.innerHTML = '<strong>Exemples : </strong>';
                    item.examples.forEach(word => {
                        const span = document.createElement('span');
                        span.className = 'word-to-speak';
                        span.innerHTML = `${word} ${speakerIconSVG}`;
                        span.addEventListener('click', (e) => { e.stopPropagation(); speak(word); });
                        examplesP.appendChild(span);
                        examplesP.append(' ');
                    });
                    const instructionsP = document.createElement('p');
                    instructionsP.className = 'mt-2';
                    instructionsP.innerHTML = `<strong>Mode d'emploi :</strong> ${item.instructions}`;
                    contentDiv.appendChild(examplesP);
                    contentDiv.appendChild(instructionsP);
                    details.appendChild(summary);
                    details.appendChild(contentDiv);
                    container.appendChild(details);
                });
            }

            function setupInterviewUI(sectionId, title, hasQuiz) {
                const container = document.getElementById(sectionId);
                const quizOrSimulator = hasQuiz ? 'Quiz' : 'Simulateur';
                container.innerHTML = `
                    <h2 class="text-2xl font-bold text-gray-800 text-center mb-4">${title}</h2>
                    <div class="flex justify-center border border-gray-200 rounded-full p-1 bg-gray-100 max-w-sm mx-auto mb-6">
                        <button id="btn-simulator-mode-${sectionId}" class="interview-mode-btn w-1/2 p-2 rounded-full text-sm font-semibold">${quizOrSimulator}</button>
                        <button id="btn-list-mode-${sectionId}" class="interview-mode-btn w-1/2 p-2 rounded-full text-sm font-semibold">Liste Compl√®te</button>
                    </div>
                    <!-- Simulator -->
                    <div id="simulator-mode-${sectionId}">
                        <div id="quiz-start-${sectionId}" class="text-center">
                             <p class="mb-4">Testez vos connaissances avec des questions al√©atoires.</p>
                             <button id="btn-start-quiz-${sectionId}" class="w-full sm:w-auto bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-full">Commencer le ${quizOrSimulator}</button>
                        </div>
                        <div id="quiz-area-${sectionId}" class="hidden">
                            <div class="flex justify-between items-center mb-4">
                                <h3 class="text-lg font-bold text-gray-700">Question <span id="question-count-${sectionId}"></span></h3>
                                ${hasQuiz ? `<span id="score-display-${sectionId}" class="font-mono text-lg px-3 py-1 bg-blue-100 text-blue-800 rounded-md">Score: 0/0</span>` : ''}
                            </div>
                            <div class="question-box bg-gray-100 border border-gray-200 rounded-lg p-6 min-h-[120px] flex items-center justify-center text-center">
                                <p id="question-text-${sectionId}" class="text-lg md:text-xl text-gray-800"></p>
                            </div>
                            <div id="show-answer-btn-container-${sectionId}" class="text-center mt-6">
                                <button class="w-full sm:w-auto bg-yellow-400 hover:bg-yellow-500 text-gray-800 font-bold py-3 px-6 rounded-full">Afficher la r√©ponse</button>
                            </div>
                            <div id="answer-box-${sectionId}" class="hidden mt-4 bg-green-50 border border-green-200 rounded-lg p-4"></div>
                            <div id="self-eval-buttons-${sectionId}" class="hidden mt-6 flex flex-col sm:flex-row items-center justify-center gap-4">
                                <button class="eval-btn w-full sm:w-auto bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-6 rounded-full" data-correct="true">J'ai raison</button>
                                <button class="eval-btn w-full sm:w-auto bg-red-500 hover:bg-red-600 text-white font-bold py-3 px-6 rounded-full" data-correct="false">Je me suis tromp√©(e)</button>
                            </div>
                             <div id="next-question-btn-container-${sectionId}" class="text-center mt-4 hidden">
                                <button class="w-full sm:w-auto bg-gray-600 hover:bg-gray-700 text-white font-bold py-3 px-6 rounded-full">Question Suivante</button>
                            </div>
                        </div>
                        <div id="quiz-end-${sectionId}" class="hidden text-center p-6 bg-blue-100 rounded-lg">
                            <h3 id="quiz-end-title-${sectionId}" class="text-2xl font-bold text-blue-800">Quiz Termin√© !</h3>
                            <p id="quiz-end-subtitle-${sectionId}" class="text-xl mt-2">Votre score final est de</p>
                            <p id="final-score-${sectionId}" class="text-5xl font-bold my-4 text-blue-900"></p>
                            <button id="btn-restart-quiz-${sectionId}" class="w-full sm:w-auto bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-full">Recommencer</button>
                        </div>
                    </div>
                    <!-- Full List -->
                    <div id="list-mode-${sectionId}" class="hidden space-y-3"></div>
                `;
            }

            function setupInterviewLogic(sectionId, questions, hasQuiz) {
                const simulatorModeBtn = document.getElementById(`btn-simulator-mode-${sectionId}`);
                const listModeBtn = document.getElementById(`btn-list-mode-${sectionId}`);
                const simulatorDiv = document.getElementById(`simulator-mode-${sectionId}`);
                const listDiv = document.getElementById(`list-mode-${sectionId}`);
                
                const activeClasses = 'bg-white text-blue-700 shadow';
                const inactiveClasses = 'bg-transparent text-gray-600';
                function switchMode(activeBtn, inactiveBtn, activeDiv, inactiveDiv) {
                    activeDiv.classList.remove('hidden');
                    inactiveDiv.classList.add('hidden');
                    activeBtn.className = `interview-mode-btn w-1/2 p-2 rounded-full text-sm font-semibold ${activeClasses}`;
                    inactiveBtn.className = `interview-mode-btn w-1/2 p-2 rounded-full text-sm font-semibold ${inactiveClasses}`;
                }
                simulatorModeBtn.addEventListener('click', () => switchMode(simulatorModeBtn, listModeBtn, simulatorDiv, listDiv));
                listModeBtn.addEventListener('click', () => switchMode(listModeBtn, simulatorModeBtn, listDiv, simulatorDiv));
                switchMode(simulatorModeBtn, listModeBtn, simulatorDiv, listDiv);

                listDiv.innerHTML = '';
                questions.forEach(item => {
                    const details = document.createElement('details');
                    details.className = 'bg-gray-50 border border-gray-200 rounded-lg';
                    const summary = document.createElement('summary');
                    summary.className = 'p-4 font-semibold cursor-pointer text-gray-800 flex justify-between items-center';
                    const qText = document.createElement('span');
                    qText.textContent = item.q;
                    const [transBtnQ, transSpanQ] = createTranslationButton(item.vn_q);
                    summary.appendChild(qText);
                    summary.appendChild(transBtnQ);

                    const contentDiv = document.createElement('div');
                    contentDiv.className = 'p-4 border-t border-gray-200 bg-white rounded-b-lg text-gray-700 flex items-center';
                    const aText = document.createElement('span');
                    aText.textContent = item.a;
                    const [transBtnA, transSpanA] = createTranslationButton(item.vn_a);
                    contentDiv.appendChild(aText);
                    contentDiv.appendChild(transBtnA);
                    
                    details.appendChild(summary);
                    details.appendChild(transSpanQ);
                    details.appendChild(contentDiv);
                    details.appendChild(transSpanA);
                    listDiv.appendChild(details);
                });

                const startDiv = document.getElementById(`quiz-start-${sectionId}`);
                const quizArea = document.getElementById(`quiz-area-${sectionId}`);
                const endDiv = document.getElementById(`quiz-end-${sectionId}`);
                const startBtn = document.getElementById(`btn-start-quiz-${sectionId}`);
                const restartBtn = document.getElementById(`btn-restart-quiz-${sectionId}`);
                const questionCountEl = document.getElementById(`question-count-${sectionId}`);
                const questionTextEl = document.getElementById(`question-text-${sectionId}`);
                const showAnswerBtnContainer = document.getElementById(`show-answer-btn-container-${sectionId}`);
                const answerBoxEl = document.getElementById(`answer-box-${sectionId}`);
                const selfEvalBtnsContainer = document.getElementById(`self-eval-buttons-${sectionId}`);
                const nextQuestionBtnContainer = document.getElementById(`next-question-btn-container-${sectionId}`);
                
                let scoreDisplayEl, finalScoreEl, quizEndTitle, quizEndSubtitle;
                if (hasQuiz) {
                    scoreDisplayEl = document.getElementById(`score-display-${sectionId}`);
                    finalScoreEl = document.getElementById(`final-score-${sectionId}`);
                    quizEndTitle = document.getElementById(`quiz-end-title-${sectionId}`);
                    quizEndSubtitle = document.getElementById(`quiz-end-subtitle-${sectionId}`);
                }

                let currentQuestionIndex, score, questionOrder;
                
                function startQuiz() {
                    currentQuestionIndex = 0;
                    score = 0;
                    questionOrder = [...questions.keys()].sort(() => Math.random() - 0.5);
                    startDiv.classList.add('hidden');
                    endDiv.classList.add('hidden');
                    quizArea.classList.remove('hidden');
                    if(hasQuiz) scoreDisplayEl.textContent = `Score: 0/0`;
                    displayQuestion();
                }

                function displayQuestion() {
                    const q = questions[questionOrder[currentQuestionIndex]];
                    questionTextEl.innerHTML = '';
                    const qText = document.createElement('span');
                    qText.textContent = q.q;
                    const [transBtn, transSpan] = createTranslationButton(q.vn_q);
                    questionTextEl.appendChild(qText);
                    questionTextEl.appendChild(transBtn);
                    questionTextEl.appendChild(transSpan);

                    questionCountEl.textContent = `${currentQuestionIndex + 1}/${questions.length}`;
                    answerBoxEl.classList.add('hidden');
                    selfEvalBtnsContainer.classList.add('hidden');
                    nextQuestionBtnContainer.classList.add('hidden');
                    showAnswerBtnContainer.classList.remove('hidden');
                }

                showAnswerBtnContainer.querySelector('button').addEventListener('click', () => {
                    showAnswerBtnContainer.classList.add('hidden');
                    const q = questions[questionOrder[currentQuestionIndex]];
                    answerBoxEl.innerHTML = '';
                    const aText = document.createElement('span');
                    aText.innerHTML = `<strong>R√©ponse :</strong> ${q.a}`;
                    const [transBtn, transSpan] = createTranslationButton(q.vn_a);
                    answerBoxEl.appendChild(aText);
                    answerBoxEl.appendChild(transBtn);
                    answerBoxEl.appendChild(transSpan);
                    answerBoxEl.classList.remove('hidden');

                    if (hasQuiz) {
                        selfEvalBtnsContainer.classList.remove('hidden');
                    } else {
                        nextQuestionBtnContainer.classList.remove('hidden');
                    }
                });

                selfEvalBtnsContainer.querySelectorAll('.eval-btn').forEach(btn => {
                    btn.addEventListener('click', () => {
                        if (btn.dataset.correct === 'true') score++;
                        selfEvalBtnsContainer.classList.add('hidden');
                        if(hasQuiz) scoreDisplayEl.textContent = `Score: ${score}/${currentQuestionIndex + 1}`;
                        moveToNextQuestion();
                    });
                });
                
                nextQuestionBtnContainer.querySelector('button').addEventListener('click', moveToNextQuestion);

                function moveToNextQuestion() {
                     currentQuestionIndex++;
                    if (currentQuestionIndex < questions.length) {
                        displayQuestion();
                    } else {
                        endQuiz();
                    }
                }

                function endQuiz() {
                    quizArea.classList.add('hidden');
                    endDiv.classList.remove('hidden');
                    if(hasQuiz) {
                        quizEndTitle.textContent = "Quiz Termin√© !";
                        quizEndSubtitle.classList.remove('hidden');
                        const percentage = Math.round((score / questions.length) * 100);
                        finalScoreEl.textContent = `${percentage}%`;
                    } else {
                        quizEndTitle.textContent = "Bravo !";
                        quizEndSubtitle.textContent = "Vous avez termin√© la s√©rie de questions.";
                        finalScoreEl.textContent = 'üëç';
                    }
                }
                
                startBtn.addEventListener('click', startQuiz);
                restartBtn.addEventListener('click', startQuiz);
            }

            // --- MAIN INITIALIZATION ---
            const mainTabs = document.querySelectorAll('.main-tab-btn');
            const mainSections = document.querySelectorAll('.main-section');
            const mainActiveClasses = 'bg-blue-700 text-white shadow-inner';
            const mainInactiveClasses = 'bg-gray-200 text-gray-700 hover:bg-gray-300';
            mainTabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    mainTabs.forEach(t => t.className = `main-tab-btn px-4 py-2 text-sm md:text-base font-semibold rounded-full focus:outline-none transition-all duration-300 ${mainInactiveClasses}`);
                    tab.className = `main-tab-btn px-4 py-2 text-sm md:text-base font-semibold rounded-full focus:outline-none transition-all duration-300 ${mainActiveClasses}`;
                    mainSections.forEach(s => s.classList.add('hidden'));
                    document.getElementById(tab.id.replace('btn-', '')).classList.remove('hidden');
                });
            });

            setupPronunciation();
            setupInterviewUI('entretien-essentiel', 'Entra√Ænement Essentiel (Quiz)', true);
            setupInterviewLogic('entretien-essentiel', questions_essentielles, true);
            setupInterviewUI('entretien-approfondi', 'Entra√Ænement Approfondi', false);
            setupInterviewLogic('entretien-approfondi', questions_approfondies, false);

            document.getElementById('btn-prononciation').click();
            
            // --- CHANGELOG MODAL LOGIC ---
            const changelogModal = document.getElementById('changelog-modal');
            const openChangelogBtn = document.getElementById('open-changelog-btn');
            const closeChangelogBtn = document.getElementById('close-changelog-btn');
            const changelogContent = changelogModal.querySelector('.space-y-4');

            const versions = [
                { version: "v7.0", date: "05/08/2025", changes: ["Ajout de nombreuses questions dans la section 'Entretien Approfondi' pour une pr√©paration compl√®te."] },
                { version: "v6.0", date: "05/08/2025", changes: ["Am√©lioration de la logique du Quiz pour afficher la r√©ponse avant l'√©valuation.", "Ajout de l'historique des versions."] },
                { version: "v5.0", date: "05/08/2025", changes: ["Transformation du simulateur 'Essentiel' en Quiz avec score.", "Ajout de boutons de traduction en vietnamien."] },
                { version: "v4.0", date: "05/08/2025", changes: ["Ajout de la section 'Entretien Approfondi' avec plus de questions."] },
                { version: "v3.0", date: "05/08/2025", changes: ["Ajout du mode 'Liste Compl√®te' pour r√©viser toutes les questions."] },
                { version: "v2.0", date: "05/08/2025", changes: ["Ajout de la synth√®se vocale pour √©couter la prononciation des mots."] },
                { version: "v1.0", date: "05/08/2025", changes: ["Cr√©ation de l'application avec les sections Prononciation et Entretien."] }
            ];

            changelogContent.innerHTML = versions.map(v => `
                <div>
                    <h4 class="text-lg font-bold text-gray-700">${v.version} <span class="text-sm font-normal text-gray-500">- ${v.date}</span></h4>
                    <ul class="list-disc list-inside text-gray-600 mt-1">
                        ${v.changes.map(c => `<li>${c}</li>`).join('')}
                    </ul>
                </div>
            `).join('');

            function toggleModal(show) {
                const overlay = document.getElementById('changelog-modal');
                if (!overlay) return;
                const container = overlay.querySelector('.modal-container');
                if (!container) return;

                if (show) {
                    overlay.classList.remove('hidden');
                    setTimeout(() => {
                        overlay.classList.remove('opacity-0');
                        container.classList.remove('scale-95');
                    }, 10);
                } else {
                    overlay.classList.add('opacity-0');
                    container.classList.add('scale-95');
                    setTimeout(() => {
                        overlay.classList.add('hidden');
                    }, 300);
                }
            }

            openChangelogBtn.addEventListener('click', () => toggleModal(true));
            closeChangelogBtn.addEventListener('click', () => toggleModal(false));
            changelogModal.addEventListener('click', (e) => {
                if (e.target === changelogModal) {
                    toggleModal(false);
                }
            });

        });
    </script>
</body>
</html>